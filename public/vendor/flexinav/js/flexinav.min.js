/*
Item Name : FlexiNav - Flexible and Responsive Navigation
Item URI : http://codecanyon.net/item/flexinav-flexible-and-responsive-navigation/6528657
Author URI : http://codecanyon.net/user/Pixelworkshop
Version : 1.1
*/




(function(e){e.flexiNav=function(t,n){function E(){var t=e(this);switch(r.flexinav_effect){case"flexinav_hover":t.children(p).fadeIn(r.flexinav_show_duration);break;case"flexinav_click":t.click(function(){t.children(p).fadeIn(r.flexinav_show_duration)});break}}function S(){var t=e(this);switch(r.flexinav_effect){case"flexinav_hover":case"flexinav_click":t.find(p).fadeOut(r.flexinav_hide_duration);break}}var r={flexinav_effect:"flexinav_hover",flexinav_show_duration:300,flexinav_hide_duration:200,flexinav_show_delay:200,flexinav_trigger:true,flexinav_hide:false,flexinav_scrollbars:true,flexinav_scrollbars_height:400,flexinav_responsive:true};var i=this;i.options={};var s=e(t);var t=t;var o=s.find(".flexinav_menu"),u=e(o).children("li"),a=e(o).find(".dropdown_parent"),f=e(a).children("span"),l=e(u).add(a),c=e(o).find(".flexinav_ddown"),h=e(a).find(".dropdown_flyout_level"),p=e(c).add(h),d=s.find(".flexinav_ddown_scroll"),v=s.find("#flexinav_form"),m=s.find(".flexinav_collapse");i.init=function(){r=e.extend(1,r,n);hoverIntentConfig={over:E,out:S,timeout:200,sensitivity:2,interval:r.flexinav_show_delay};g();b();w()};var g=function(){e(p).css({display:"block",top:"auto",opacity:"1"}).hide(0);if(r.flexinav_responsive===true){e(m).addClass("flexinav_collapse_noactive");e(m).click(function(){e(m).toggleClass("flexinav_collapse_active flexinav_collapse_noactive");e(u).not(":eq(0)").toggle(0)})}if("ontouchstart"in document.documentElement&&r.flexinav_responsive===true){e(l).addClass("noactive").removeClass("active");e(window).bind("orientationchange",function(){e(p).css({display:"block"}).hide(0)})}else if(r.flexinav_responsive===true){e(window).resize(function(){if(e(".flexinav_btn").hasClass("btn_active")){s.slideUp(0)}e(p).css({display:"block"}).hide(0);if(!s.is(":visible")&&e(window).width()<768){s.show(0)}})}};var y=function(){s.after('<a href="#" class="flexinav_btn"><i class="fa fa-arrow-up"></i></a>');var t=s.next(".flexinav_btn");if(flexiNavBarHide===true&&e(window).width()>=768){s.slideUp(0);e(".flexinav_btn").toggleClass("btn_active")}t.click(function(){e(this).prev(s).delay(100).slideToggle(300);e(this).toggleClass("btn_active");return false})};var b=function(){if(r.flexinav_trigger===true&&s.hasClass("flexinav_fixed")){flexiNavBarHide=r.flexinav_hide;y(s)}if(r.flexinav_scrollbars===true&&e(d).length>0){e(d).css("max-height",r.flexinav_scrollbars_height).mCustomScrollbar({theme:"dark-2",set_height:r.flexinav_scrollbars_height,autoDraggerLength:true,scrollButtons:{enable:true},advanced:{updateOnContentResize:true,updateOnBrowserResize:true,contentTouchScroll:true}})}if("ontouchstart"in document.documentElement&&r.flexinav_responsive===true){e(u).not(m).click(function(){var t=e(this);e(".flexinav_menu > li").not(this).removeClass("active").addClass("noactive").find(".flexinav_ddown").hide(0);t.toggleClass("active noactive").find(c).first().toggle(0).click(function(e){e.stopPropagation()})});if(e(window).width()>=768){e(f).click(function(){var t=e(this);t.parent().siblings().find(h).hide(0);t.next(h).first().toggle(0)})}else{e(f).click(function(){var t=e(this);t.parent().toggleClass("active noactive");t.next(h).toggle(0)})}e(document).hammer().on("tap",function(){e(l).removeClass("active").addClass("noactive");e(p).hide(0)});s.hammer().on("tap",function(e){e.stopPropagation()});e(window).bind("orientationchange",function(){e(l).removeClass("active").addClass("noactive");e(p).hide(0)});return}else{switch(r.flexinav_effect){case"flexinav_hover":case"flexinav_click":e(l).hoverIntent(hoverIntentConfig);break}}};var w=function(){if(e(v).length>0){e(v).find("#submit").click(function(){e(".error").hide(0);var t=e("input#name").val();if(t==""||t==" "||t=="Name"){e("input#name").focus().before('<div class="error">Please enter your name.</div>');return false}var n=/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/;var r=e("input#email").val();if(r==""||r==" "){e("input#email").focus().before('<div class="error">Please enter your email address.</div>');return false}else if(!n.test(r)){e("input#email").select().before('<div class="error">This email address is not valid.</div>');return false}var i=e("#message").val();if(i==""||i==" "||i=="Message"){e("#message").focus().before('<div class="error">Please enter your message.</div>');return false}var s=e(v).serialize();e.ajax({type:"POST",url:"email.php",data:s,success:function(){e(v).find(".error").hide(0);e(v).before('<div class="success"></div>');e(".success").html("Your email has been sent successfully !")}});return false})}};i.init()};e.fn.flexiNav=function(t){return this.each(function(){if(undefined==e(this).data("flexiNav")){var n=new e.flexiNav(this,t);e(this).data("flexiNav",n)}})}})(jQuery)